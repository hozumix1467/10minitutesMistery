# セキュリティポリシー

## セキュリティの報告

セキュリティの脆弱性を発見した場合は、以下の手順で報告してください：

1. **直接連絡**: セキュリティ問題を公開リポジトリで報告しないでください
2. **詳細情報**: 脆弱性の詳細、再現手順、影響範囲を含めて報告してください
3. **対応期間**: 報告から72時間以内に初回対応を行います

## セキュリティ対策

### 実装済みの対策

- ✅ Firebase Authentication による認証
- ✅ Firestore Security Rules による認可
- ✅ 入力サニタイズ（DOMPurify使用）
- ✅ 環境変数による設定管理
- ✅ TypeScript による型安全性
- ✅ 文字数制限とバリデーション

### 推奨事項

1. **環境変数の管理**
   - `.env`ファイルをGitにコミットしない
   - 本番環境では適切な環境変数を設定

2. **Firebase設定**
   - 本番環境では適切なセキュリティルールを設定
   - API Keyの定期的なローテーション

3. **入力検証**
   - すべてのユーザー入力をサニタイズ
   - 文字数制限の遵守

## セキュリティチェックリスト

### デプロイ前の確認事項

- [ ] 環境変数が正しく設定されている
- [ ] Firebase設定が本番環境用になっている
- [ ] セキュリティルールが適切に設定されている
- [ ] 入力サニタイズが実装されている
- [ ] 機密情報がコードに含まれていない

### 定期的な確認事項

- [ ] 依存関係の脆弱性チェック
- [ ] Firebase設定の見直し
- [ ] セキュリティルールの更新
- [ ] ログの監視

## 脆弱性の種類と対策

### XSS（クロスサイトスクリプティング）
- **対策**: DOMPurifyによる入力サニタイズ
- **実装**: `src/utils/sanitize.ts`

### CSRF（クロスサイトリクエストフォージェリ）
- **対策**: Firebase Authentication のトークンベース認証
- **実装**: Firebase Auth の自動CSRF保護

### インジェクション攻撃
- **対策**: Firestore の型安全なクエリ
- **実装**: Firebase SDK の使用

### 認証・認可の不備
- **対策**: Firebase Security Rules
- **実装**: Firestore のルールベースアクセス制御

## 連絡先

セキュリティに関する問題は、以下の方法で報告してください：

- **お問い合わせ**: [【10分事件簿】お問い合わせフォーム](https://docs.google.com/forms/d/e/1FAIpQLSfv-ejO9V4iwqC62ua7M8M_BsrsQbc5xmJJVrikiBla4VclEA/viewform?usp=header)
- **Issue**: プライベートリポジトリでの報告

## ライセンス

このセキュリティポリシーは、プロジェクトのライセンスに従います。
